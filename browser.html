<!DOCTYPE html>
<html lang="en">
  <head>
  	<!--Animated Lower Thirds v1.6-->
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Lyrics Source</title>
	<link rel="stylesheet" href="browser.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	</head>
	
	<body>
	
	<div id="lyric-panel" class="center">
			Lyrics Go Here</br>
			Line 2
	</div>
</body>

<script type="text/javascript">
const bcp = new BroadcastChannel('obs-lyrics');

bcp.onmessage = (messageEvent) => {
    // If our broadcast message is 'update_title' then get the new title from localStorage
	alert(messageEvent.data.action);
    if (messageEvent.data.action === 'update_title') {
      // localStorage is domain specific so when it changes in one window it changes in the other
      //alert("hello world");
	  $("#lyric-panel").html(messageEvent.data.text);
	  
	  
    }
  }

</script>
</html>